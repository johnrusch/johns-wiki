<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="description" content="Astro description"><meta name="viewport" content="width=device-width"><link rel="icon" href="/favicon.ico"><meta name="generator" content="Astro v3.2.2"><title>Page Initially Scrolling to Bottom of Content on Refresh</title><link rel="stylesheet" href="/_astro/about.9ea2f338.css" />
<link rel="stylesheet" href="/_astro/_...slug_.901572ee.css" /><script type="module">let e=!1;document.querySelector("#hamburger-icon").addEventListener("click",s=>{const t=document.querySelector(".nav-links");t.classList.remove("expanded","collapsed");const a=e?"collapsed":"expanded";t.classList.toggle(`${a}`);const n=e?"animate-to-start .4s steps(10, end) forwards":"animate-to-end .4s steps(10, end) forwards";e=!e,s.target.style.animation=n});
</script></head><body><header id="header" class="flex flex-col items-center p-6 pb-0 lg:flex lg:flex-row lg:justify-between lg:p-0"><div class="header-container flex justify-between items-center w-full"><a href="/" class="w-3/4 h-auto hover:cursor-pointer"><img src="/_vercel/image?url=_astro%2FlogoImage.4fada3ac.webp&#38;w=640&#38;q=100" alt="john's wiki logo" class="w-full h-auto rounded-xl sm:w-96 hover:bg-light-yellow" width="423" height="92" loading="lazy" decoding="async"></a><div id="hamburger-icon" class="justify-self-end w-16 h-16 cursor-pointer" data-astro-cid-3weo6hls></div></div><nav class="flex w-full"><div class="nav-links flex absolute w-full max-h-0 top-20 left-0 right-0 m-0 transit overflow-hidden z-50" data-astro-cid-pux6a34n><div class="flex w-full justify-evenly mt-3 mb-4 sm:justify-end sm:mt-0 sm:mb-0" data-astro-cid-pux6a34n><a class="w-1/2 flex justify-center items-center" href="/about" data-astro-cid-pux6a34n><div id="about-icon" class="block w-full h-auto opacity-80 rounded-none sm:rounded-lg hover:cursor-pointer animated-icon " data-astro-cid-pux6a34n></div></a><a class="w-1/2 flex justify-center items-center" href="/computer" data-astro-cid-pux6a34n><div id="computer-icon" class="block w-full h-auto opacity-80 rounded-none sm:rounded-lg hover:cursor-pointer animated-icon " data-astro-cid-pux6a34n></div></a><a class="w-1/2 flex justify-center items-center" href="/blog" data-astro-cid-pux6a34n><div id="blog-icon" class="block w-full h-auto opacity-80 rounded-none sm:rounded-lg hover:cursor-pointer animated-icon " data-astro-cid-pux6a34n></div></a><a class="w-1/2 flex justify-center items-center" href="/music" data-astro-cid-pux6a34n><div id="music-icon" class="block w-full h-auto opacity-80 rounded-none sm:rounded-lg hover:cursor-pointer animated-icon " data-astro-cid-pux6a34n></div></a><a class="w-1/2 flex justify-center items-center" href="/art" data-astro-cid-pux6a34n><div id="art-icon" class="block w-full h-auto opacity-80 rounded-none sm:rounded-lg hover:cursor-pointer animated-icon " data-astro-cid-pux6a34n></div></a></div></div></nav></header><!-- <Image id="header-border-bottom" class="horizontal-line" src={horizontalLine} alt="horizontal line" /> --><img src="/_vercel/image?url=_astro%2FhorizontalLine.083e6979.webp&#38;w=1920&#38;q=100" class="h-2 mt-2" alt="horizontal line" width="1797" height="55" loading="lazy" decoding="async"><main class="m-auto w-full mb-20 max-w-full flex flex-col-reverse justify-between items-center overflow-y-auto sm:mb-0 sm:h-75vh sm:flex-row sm:overflow-hidden sm:pt-4"><section class="w-4/5 flex-1 mt-4 leading-normal sm:h-full sm:w-1/2 sm:overflow-y-scroll sm:mr-4 prose prose-lg prose-headings:mt-2 prose-headings:mb-2"><h1 class="mb-4">Page Initially Scrolling to Bottom of Content on Refresh</h1><h2 id="the-problem">The Problem</h2>
<p>I was working on my Portfolio website when I noticed an issue with some of the pages.</p>
<p>From a mobile screen size, if the text content of my page overflowed, the initial scroll position would be at the bottom of the page. Like this:</p>
<p><img alt=""  src="/_vercel/image?url=_astro%2FscrollIssueScreenshot.f4c1101e.webp&#38;w=640&#38;q=100" width="392" height="852" loading="lazy" decoding="async"></p>
<p>Everything else was looking and acting like I wanted it to. I did have particular demands for the scrolling behavior between mobile and desktop screen sizes, so I was unsure if I’d be able to get the behavior I wanted (page starts with the scroll position at the top) given my other requirements.</p>
<p>I had also just implemented Tailwind CSS styles throughout my code. I had actually spent a lot of time writing CSS rules, especially for my animations. However, I didn’t really want to make my own Carousel component and I thought the Material/Tailwind Carousel component looked nice, so I added it and then said ah heck, why don’t I try out Tailwind for the rest of the CSS. In the end, this wasn’t a poor decision and I was able to get everything I wanted to work.</p>
<h2 id="the-solution">The Solution</h2>
<p>I had added some customizations to my Tailwind configuration to add some height styles. I wanted to set the height of elements relative to the view height so that my content and my fixed header and footer could coexist ☮️peacefully☮️. The element that contained my text content and an image on the page had my custom <code>h-75h</code> (<code>height: 75vh;</code>) Tailwind class on it, and when I removed it the page initialized with its scroll position at the top. However, this alone was not the sole source of the problem.</p>
<p>My page layout looks something like this:</p>
<pre is:raw="" class="astro-code github-dark" style="background-color: #24292e; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color: #E1E4E8">&#x3C;</span><span style="color: #FDAEB7; font-style: italic">BaseLayout</span><span style="color: #E1E4E8">></span></span>
<span class="line"><span style="color: #E1E4E8">	&#x3C;</span><span style="color: #85E89D">main</span><span style="color: #E1E4E8">></span></span>
<span class="line"><span style="color: #E1E4E8">		&#x3C;</span><span style="color: #85E89D">section</span><span style="color: #E1E4E8">></span></span>
<span class="line"><span style="color: #E1E4E8">			Text content here</span></span>
<span class="line"><span style="color: #E1E4E8">		&#x3C;/</span><span style="color: #85E89D">section</span><span style="color: #E1E4E8">></span></span>
<span class="line"><span style="color: #E1E4E8">		&#x3C;</span><span style="color: #85E89D">section</span><span style="color: #E1E4E8">></span></span>
<span class="line"><span style="color: #E1E4E8">			&#x3C;</span><span style="color: #85E89D">img</span><span style="color: #E1E4E8"> /></span></span>
<span class="line"><span style="color: #E1E4E8">		&#x3C;/</span><span style="color: #85E89D">section</span><span style="color: #E1E4E8">></span></span>
<span class="line"><span style="color: #E1E4E8">	&#x3C;/</span><span style="color: #85E89D">main</span><span style="color: #E1E4E8">></span></span>
<span class="line"><span style="color: #E1E4E8">&#x3C;/</span><span style="color: #FDAEB7; font-style: italic">BaseLayout</span><span style="color: #E1E4E8">></span></span></code></pre>
<p>From a desktop screen size, the text renders on the left side of the page and the image renders on the right side. I decided that on a mobile screen size, I wanted the layout to adapt so that the image would render as a broad strip at the top with the scrollable text content underneath. To achieve this, I set <code>flex-direction: column-reverse;</code> on the <code>&#x3C;main></code> element. This <a href="https://www.w3.org/TR/css-flexbox-1/#flex-direction-property">reverses the direction of the flex container’s main axis</a>.</p>
<p>The unit used to define the height of this element (in confluence with my other CSS rules) affects where the page’s initial scroll position is set. I’m not entirely sure why this happens yet. To solve my problem though, I needed to <strong>remove the <code>height: 80vh;</code> rule from my element.</strong></p></section><section class="w-full h-64 mt-4 mb-4 box-border sm:flex-1 sm:h-full sm:ml-4"><img src="/_vercel/image?url=_astro%2Fbroken-ipad.5bdf97d7.webp&#38;w=1200&#38;q=100" class="w-full h-full object-cover sm:h-full sm:object-contain sm:object-center" alt="Person looking at a broken iPad" width="1500" height="1000" loading="lazy" decoding="async"></section></main><footer class="footer"><a href="https://github.com/johnrusch" target="_blank" rel="noopener" class="footer-link"><img src="/_vercel/image?url=_astro%2FgithubIcon.19d61e30.webp&#38;w=640&#38;q=100" class="footer-icon" alt="Github" width="489" height="486" loading="lazy" decoding="async"></a><a href="https://www.linkedin.com/in/john-r-54a012184/" target="_blank" rel="noopener" class="footer-link"><img src="/_vercel/image?url=_astro%2FlinkedinIcon.56637b69.webp&#38;w=640&#38;q=100" class="footer-icon" alt="LinkedIn" width="357" height="353" loading="lazy" decoding="async"></a></footer></body></html>